\cleardoublepage
\singlespacing
\chapter{Introduction}
\label{c:intro}
\doublespacing\nointerlineskip

This chapter provides an overview of the thesis. First, we describe why
deployment and maintenance of M2M systems such as WSN are still difficult and then we introduce the reconfigurable fault tolerance system problem and approaches to solving this
problem. Next, we describe some related work on a reconfigurable fault tolerant distributed system. Lastly, we present our proposed solution to this problem.

\section{Wireless Sensor Network Deployment is Hard}

Wireless sensor networks are areas filled with network of tiny, resource
limited sensors communicating wirelessly. Each sensor is capable of sensing the
enviornment in its proximity. Wireless sensor networks are typically employed in
a variety of applications ranging from home automation to millitary.

Sensor networks offer the ability to monitor real-world phenomena in detail and
at large scale by embedding devices into the environment. Deployment is
about setting up an sensor network in a real-world environment. Deployment is
a labor-intensize and cumbersome task since environmental influences or
loose program logic in code might trigger bugs or sensor failures that
degrade performance in any way that has not been observed during pre-deployment
testing in the lab.

The real world has strong influences of the function of a sensor network that
could change the quality of wireless communication links, and by putting
extreme physical strains on sensor nodes. Laboratory testbed or simulator can 
only model to a very limited extent of those influences.

There have been several reports on sensor network installations where they
encountered problems during their
deployment\cite{Barrenetxea2008}\cite{Polastre2004}\cite{Arora2004}\cite{Tateson2005}\cite{Padhy2005}\cite{Stoianov2007}\cite{Tolle2005}\cite{Werner-Allen2006a}.

Testbed in laboratory environment can still not model the full extents of the
influences a real world enviroment could do. Deployment still a big problem in
wireless sensor network applications.

\section{Redundancy architecture}

A distributed system usually consists of hosts that host services that clients or
other services could read or write with some associated communication
frequencies according to the application requirements. The
problem of partial failures makes service redundancy a fundamental technique to
distributed systems as it improves availability, eliminiates single points of
failure. A system that is hardwired to get data from node X will fail when
X fails. The problem of designing a system with replicas where node Y, which
can provide the same service as X, can take over when X fails. To design such
system, it is important to have a clear definition of a service such that it
could be replicated onto heterogeneous hosts. It is
also essential that the system could track and manage available replicas in the
network. Autonomy is an important attribute of distributed systems since most
of them would be left unattended for a long period of time; systems should be
able to reconfigure and recover themselves in the event of failure.

\section{Problem Definition}

The problem of designing a distributed system that could handle failures and
increase availability for all services is different depending on the system and
application requirements. However, some generalities can be established. There will
usually be a set of components which will be assigned to a set of hosts where 
components are associated with some communication frequencies and are
reading/writing data from other components. Hosts could fail, and there is
a time constraints on the recovery process. The objective is to detect and
handle failures with mimimum communication and memory overhead.

In this thesis, the problem of reconfigurable fault tolerant system based on
WuKong component based architecture is considered. The problem is
interesting and worth solving by itself as this problem existed in all
kinds of distributed systems.

\subsection{WuKong: Intelligent Middleware for Flexible Sensor Configurations in
  M2M Systems}

WuKong: Intelligent Middleware for Flexible Sensor Configurations in M2M
Systems~\cite{Reijers} consists of frameworks that supports flexible
configurations of application specifications from flow-based programming.
It uses component based architecture where services could be represented by
software components which will be deployed to a set of hosts, and each host
could hold more than one component.

\subsection{Challenges}

Distributed systems have some unique properties that makes this problem really hard is that communication between nodes are not reliable and the ordering of the messages received could be out of order or dropped. Therefore most existing work treat the problem as a consensus problem where, mostly a variant of the solution proposed by Leslie Lamport in his paper~\cite{Lamport2001} where acceptors need to come to a consensus for the value of a particular variable made by the proposers, and the learners will have to learn of that decision. Under the assumption of a finite state machine for every process, the ordering properties is really important among the acceptors so none of them could reach a different state thus deviating from consensus. However, we will show that this is unnecessary in our approach.

It is a challenege designing a solution that is scalable and also pertaining to the limitations when typical distributed systems such as wireless sensor networks have tight resource constraints and usually deploy in large quantity which dooms the thought of storing or maintaining any additional states, resouces has to be used economically. 

\section{Approach}

This thesis proposed an original approach that hasn't been done before.
Previous work on the problems has been considered the use of consensus
protocols with some sort of configurations that contain a set of members, and
for every failure the configuration will be reconfigured using the said
consensus protocol to reach consensus in the system. However, the results
haven't shown to work under heterogeneous network with nodes that could carry
multiple components. This thesis proposed a novel algorithm with the use of
a distributed data structure to maintain the list of members in order that
provides a way to track redundancies and recovery from failures when nodes
could potentially be both a backup and a service provider, and it also
eliminates the needs for messages ordering to reach consensus.

\subsection{Related Work}

The problem of a distributed fault tolerant system has been addressed in many
literature~\cite{Neumann2010,Lamport2001,Luna2008,Liu2009,Sussman2000,Lynch2002},
however none of the results considered the case of nodes that could carry
multiple components and applications with complicated structure with sensors,
computation, and actuators. In contrast, most of their assumptions
are based on homogeneous network with nodes with reasonable large memory and computation constraints and services with states.

\section{Thesis Organization}

% an overview of subsequent chapters
Our work overlaps many diverse but interconnected domains, each topic being 
itself a subject of advanced research and abundant literature.
Chapter~\ref{c:intro} gives an introduction to the problem and outline of the
approach used to solve the problem. Chapter~\ref{c:background}
gives a brief background overview of the topic that this work based on. 
We start by describing wireless sensor networks. Then we go on to discuss fault
tolerant design for distributed systems, it's objectives and recent
developments. Then we proceed to talk about component model based middleware and WuKong. Chapter~\ref{c:rasco} described our work on a reconfigurable component 
based fault tolerance system. In this chapter we give detail description of our method and algorithms.%, then we present deployment to evaluate the performance, correctness of each mechanism followed up with a deployment with an application from WuKong. 
Chapter~\ref{c:deploy} discussed the tradeoffs and one possible direction in future research. Finally, chapter ~\ref{c:conclusion} presented some conclusions of the work, list of contributions and future work.
